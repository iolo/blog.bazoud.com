- var cloud = _.chain(contents.articles._.directories).map(function(item) {
-   return item.index
- }).compact().filter(function(article) {
-   return article.metadata.ignored !== true
- }).map(function(article) {
-   return article.metadata.tags
- }).flatten().reduce(function(counts, word) {
-   counts[word] = (counts[word] || 0) + 1
-   return counts
- }, {}).value()

#tags.tagcloud
  each count, word in cloud
    = '\r\n'
    - var sizeCount = Math.min(Math.floor(count / 1.25), 25)
    a(class="size-#{sizeCount}", href="/tag/#{word}", title="#{word}: #{count} posts")
      | #{word}
    